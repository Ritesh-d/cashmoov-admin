<div class="col-xl-12 col-lg-12">
    <div class="card shadow mb-4">
        <div class="card-header">
            <h6 class="m-0 font-weight-bold text-primary">{{'TEMPLATE.template.service.template' | translate}}</h6>
        </div>
        <!-- Card Body -->
        <div class="card-body padding-custom">

            <div class="row">
                <div class="col-lg-12">
                    <div *ngIf="errorMessges" class="alert alert-danger">{{ errorMessges }}</div>
                    <div *ngIf="successMessage" class="alert alert-success">{{ successMessage }}</div>
                    <!-- templateName -->
                    
                    <div class="form-group row">
                        <div class="col-sm-4">
                            <label for="channel_type" class="custom-label" translate>{{'TEMPLATE.template.template.name' | translate}}
                                 </label>
                                 <input type='text' value="{{tempname}}" class="form-control" readonly>
                            </div>
                            <div class="col-sm-4">
                                <label for="channel_type" class="custom-label" translate>{{'TEMPLATE.template.template.category' | translate}}
                                </label>
                        

                                <input type='text' value="{{templateCategoryName}}" class="form-control" readonly>
                            </div>
                            <div class="col-sm-4">
                                <label for="channel_type" class="custom-label" translate>{{'TEMPLATE.template.wallet.owner.category' | translate}}
                                </label>
                        

                                <input type='text' value="{{walletOwnerCategoryName}}" class="form-control" readonly>
                            </div>
                          
                      </div>
                    
<div *ngIf="display != 'none'">
                     <hr>
                    <form [formGroup]="serviceTemplateForm" >
                        <div class="form-group row">
                            
                            <div class="col-sm-6">
                                <label for="last_name" class="custom-label" translate>{{'TEMPLATE.template.service' | translate}}
                                    <span class="required-field">*</span></label>
                                <select formControlName="serviceCode" class="custom-select form-control"
                                    (change)="onChangeService($event)">
                                    <option value='' selected>{{'TEMPLATE.template.select' | translate}}</option>
                                    <option *ngFor="let eWalletService of eWalletServiceList "
                                        value="{{eWalletService.code}}">
                                        {{eWalletService.name}}</option>
                                </select>
                                <span *ngIf="submitted && f.serviceCode.errors" class="validation-message">
                                    <div *ngIf="f.serviceCode.errors.required" translate>{{'TEMPLATE.pleaseselectservice' | translate}}
                                    </div>
                                </span>
                            </div>
                            <div class="col-sm-6">
                                <label for="channel_type" class="custom-label" translate>{{'TEMPLATE.template.service.category' | translate}}
                                    <span class="required-field">*</span></label>
                                <select formControlName="serviceCategoryCode" class="custom-select form-control"
                                    (change)="onChangeServiceCategory($event)">
                                    <option value='' selected>
                                        {{'TEMPLATE.template.select' | translate}} </option>
                                    <option *ngFor="let serviceCategory of serviceCategoryList "
                                        value="{{serviceCategory.code}}">
                                        {{serviceCategory.name}}</option>
                                </select>
                                <span *ngIf="submitted && f.serviceCategoryCode.errors" class="validation-message">
                                    <div *ngIf="f.serviceCategoryCode.errors.required" translate> {{'TEMPLATE.template.select.service.category' | translate}}
                                    </div>
                                </span>
                            </div>
                        </div>
                        <div class="form-group row">
                         
                            <div class="col-sm-6">
                                <label for="last_name" class="custom-label" translate>{{'TEMPLATE.template.service.provider' | translate}}
                                    <span class="required-field">*</span></label>
                                <select formControlName="serviceProviderCode" class="custom-select form-control">
                                    <option value='' selected>
                                        {{'TEMPLATE.template.select' | translate}}</option>
                                    <option *ngFor="let serviceProvider of serviceProviderList "
                                        value="{{serviceProvider.code}}">
                                        {{serviceProvider.name}}</option>
                                        <!-- <option  value="100000">Recharge through Airtel</option> -->
                                </select>
                                <span *ngIf="submitted && f.serviceProviderCode.errors" class="validation-message">
                                    <div *ngIf="f.serviceProviderCode.errors.required" translate>
                                            {{'TEMPLATE.template.select.service.provide' | translate}} 
                                    </div>
                                </span>
                            </div>
                            <div class="col-sm-6">
                                <label for="channel_type" class="custom-label" translate>{{'TEMPLATE.template.channel.type' | translate}}
                                   </label>
                                <select formControlName="channelTypeCode" class="custom-select form-control">
                                    <option value='' selected>
                                        {{'TEMPLATE.template.select' | translate}} </option>
                                    <option *ngFor="let channelType of channelTypeList " value="{{channelType.code}}"
                                        selected>
                                        {{channelType.type}}</option>
                                    <!-- <option value='100004' selected>
                                        BTL </option> -->
                                </select>

                           
                            </div>
                        </div>
                        <div class="form-group row">
                            
                            <div class="col-sm-6">
                                <label for="channel_type" class="custom-label" translate>{{'TEMPLATE.template.trans.type' | translate}}
                                    <span class="required-field">*</span></label>
                                <select formControlName="transTypeCode" class="custom-select form-control">
                                    <option value='' selected>
                                        {{'TEMPLATE.template.select' | translate}} </option>
                                    <option *ngFor="let tranType of tranTypeList " value="{{tranType.code}}">
                                        {{tranType.name}}</option>
                                    
                                    <!-- <option value='100001' selected>
                                        Cash-out </option> -->
                                </select>
                                <span *ngIf="submitted && f.transTypeCode.errors" class="validation-message">
                                    <div *ngIf="f.transTypeCode.errors.required" translate>{{'TEMPLATE.template.select.tran.type' | translate}}
                                    </div>
                                </span>
                            </div>
                            <div class="col-sm-3">
                                <label for="last_name" class="custom-label" translate>{{'TEMPLATE.template.minimum.tran.value' | translate}}
                                    </label>
                                <input formControlName="minTransValue" type="text" class="form-control">
                                <!-- <span *ngIf="submitted && f.minTransValue.errors" class="validation-message">
                                    <div *ngIf="f.minTransValue.errors.required" translate>please enter minimum trans
                                        value
                                    </div>
                                </span> -->
                            </div>
                            <div class="col-sm-3">
                                <label for="last_name" class="custom-label" translate>{{'TEMPLATE.template.maximum.tran.value' | translate}}
                                  </label>
                                <input formControlName="maxTransValue" type="text" class="form-control">
                                <!-- <span *ngIf="submitted && f.maxTransValue.errors" class="validation-message">
                                    <div *ngIf="f.maxTransValue.errors.required" translate>please enter maximum trans
                                        value
                                    </div>
                                </span> -->
                            </div>
                        </div>
               
                    </form>

                    <!-- add Button -->
                    <div class="col-sm-12 text-right">
                        <button type="button" (click)="navigateBack()" class="btn btn-danger px-3"><i
                                class="fas fa-arrow-circle-left"></i>
                                {{'TEMPLATE.template.back' | translate}}</button>&nbsp;
                        <button  (click)="createTemplate()" type="button" class="btn btn-primary px-3">
                            <i class="fas fa-plus-circle"></i> {{'TEMPLATE.template.create.service' | translate}}</button>&nbsp;

                            <button  *ngIf="serviceTemplateList " (click)="SaveTemplate()" class="btn btn-primary px-3">
                                <i class="fas fas-save"></i> {{'TEMPLATE.template.save' | translate}}</button> 
                          

                    </div>
</div>
                    <div *ngIf="!displaytable" class="spinner-aligning">
                        <div class="spinner-border" role="status">
                            <span class="sr-only">{{'MASTER.loading' | translate}}</span>
                        </div>
                    </div>

                    
            </div>
            </div>
            <div  *ngIf="display == 'none'" class="col-sm-12 text-right">
                <button type="button" (click)="navigateBack()" class="btn btn-danger px-3"><i
                        class="fas fa-arrow-circle-left"></i>
                        {{'TEMPLATE.template.back' | translate}}</button> 
            </div>
            <br> 
            <div class="table-responsive">
                <table *ngIf="displaytable" datatable class="table table-bordered table-striped" [dtOptions]="dtOption" width="100%"
                    cellspacing="0">
                    <thead>
                        <tr>
                            <th> {{'TEMPLATE.template.code' | translate}}</th>
                            <th> {{'TEMPLATE.template.template.name' | translate}}</th>
                            <th> {{'TEMPLATE.template.channel.type' | translate}}</th>
                            <th> {{'TEMPLATE.template.service.name' | translate}} </th>
                            <th>{{'TEMPLATE.template.service.category' | translate}}</th>
                            <th> {{'TEMPLATE.template.service.provider' | translate}} </th>
                            <th>  {{'TEMPLATE.template.trans.type' | translate}}</th>
                            <th> {{'TEMPLATE.template.status' | translate}}</th>
                            <th> {{'TEMPLATE.template.state' | translate}}</th>
                            <!-- <th> Min Trans Value </th>
                            <th> Max Trans Value</th> -->
                             <th>{{'TEMPLATE.template.action' | translate}}</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let serviceTemplate of serviceTemplateList">
                            <td>{{serviceTemplate.code}}</td>
                            <td>{{serviceTemplate.templateName}}</td>
                            <td>{{serviceTemplate.channelTypeName}} </td>
                            <td>{{serviceTemplate.serviceName}} </td>
                            <td>{{serviceTemplate.serviceCategoryName}}</td>
                            <td>{{serviceTemplate.serviceProviderName}} </td>
                            <td>{{serviceTemplate.transTypeName}} </td>
                            <td>{{serviceTemplate.status}} </td>
                            <td>{{serviceTemplate.state}} </td>
                            <!-- <td>{{serviceTemplate.minTransValue}} </td>
                            <td>{{serviceTemplate.maxTransValue}} </td> -->
                            <td>
                                <a style="cursor:pointer" placement="bottom"  (click)="viewForm(serviceTemplate)"
                                ngbTooltip="{{'MASTER.view' | translate}}"><i class="fas fa-eye text-primary"></i></a>&nbsp;
                                <a   *ngIf="display != 'none' && serviceTemplate.state == 'Approved'"  (click)="editForm(serviceTemplate)"  style="cursor:pointer" placement="bottom"
                                ngbTooltip="{{'MASTER.edit' | translate}}"><i class="fas fa-edit text-secondary"></i></a>
                                <!-- <a   *ngIf="display != 'none'"  (click)="editForm(serviceTemplate)"  style="cursor:pointer" placement="bottom"
                                ngbTooltip="Edit"><i class="fas fa-edit text-secondary"></i></a> -->
                            </td>
                            
                            
                        </tr>
                    </tbody>
            
                </table>
              
            </div>
   
        </div>
    </div>
</div>